

<%- include('../partials/header') %>
<div class="menu">
    <a href = "homepage">HOME</a>
    <a href = "/gardens">GARDENS</a>  
</div>
 
</div>
<div class="add-plant-button">
    <form action="/gardens/<%= garden._id %>/plants/new" method="GET">
        <button >ADD PLANT</button>
    </form>
</div>
<script>
//click event listener for the "ADD PLANT" button
// document.getElementById("add-plant-button").addEventListener("click", function() {
//     //navigate to the new plant form page
//     window.location.href = "/<%= garden._id %>/plants/new";
// });
</script>


<h1><%= garden.name %></h1>
<p>Year Founded: <%= garden.yearFounded %></p>
<p>Address: <%= garden.address %></p>
<img src="<%= garden.imagePath %>" alt="<%= garden.name %>" class="garden-show-page__image">

<div class="plants">
        <%- include('../partials/plants', {title: 'Vegetables', category: 'vegetable',  plants: plants}) %>
        <%- include('../partials/plants', {title: 'Herbs',      category: 'herb',       plants: plants}) %>
        <%- include('../partials/plants', {title: 'Fruits',     category: 'fruit',      plants: plants}) %>
        <%- include('../partials/plants', {title: 'Flowers',    category: 'flower',     plants: plants}) %>
</div>

<h2>Volunteer Sign-Up</h2>
<ul id="volunteer-list">
    <!-- Volunteers will be added here -->
    <ul>
        <%volunteers.forEach(volunteer => { %>
          <li>Name: <%= volunteer.name %></li>
          <li>Date: <%= volunteer.date %></li>
          <li>Time From: <%= volunteer.timeFrom %></li>
          <li>Time To: <%= volunteer.timeTo %></li>
          <br>
          <!-- Delete button -->
          <form action="/gardens/<%= garden._id %>/volunteers/<%= volunteer._id %>" method="POST">
            <input type="hidden" name="_method" value="delete">
            <button type="submit">X</button>
        </form>
        <% }); %>
    </ul>



 <!-- Add a form for adding a new volunteer -->
<form id="add-volunteer-form" action="/gardens/<%= garden._id %>/volunteers" method="POST">
    <!-- Only post to garden currently viewing -->
    <input type="hidden" name="gardenId" value="<%= garden._id %>">
    <label>Name:</label>
    <input type="text" name="name">
    <label>Date:</label>
    <input type="date" name="date">
    <label>From:</label>
    <input type="time" name="timeFrom">
    <label>To:</label>
    <input type="time" name="timeTo">
    <input type="submit" value="Add Volunteer">
  </form>


    


<%- include('../partials/footer') %>